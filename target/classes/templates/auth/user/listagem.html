<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>DASHBOARD DE OCORRÊNCIAS</title>

    <link rel="stylesheet" th:href="@{/bootstrap-5.1.3-dist/css/bootstrap.min.css}">
    <script th:src="@{/jquery-3.6.0-dist/jquery-3.6.0.min.js}"></script>
    <script th:src="@{/bootstrap-5.1.3-dist/js/bootstrap.min.js}"></script>

</head>




<body>

<!--  th:fragment="nav" -->

<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
        <a class="navbar-brand" href="#"></a>
        <button class="navbar-toggler" type="button"
                data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false"
                aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link active"
                                        aria-current="page" href="/">Home</a></li>


                <!--
                               <li class="nav-item"><a class="nav-link" href="/login">Entrar</a>
                               </li>


                                   <li class="nav-item"><a class="nav-link" th:href="@{/relatorio/exibir}">Relatorios</a>
                                   </li>
                               -->

            </ul>
        </div>
    </div>
</nav>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<h1>  Ocorrências por tipos de crime</h1><br>


<div class="container">
    <h2 style="text-align: center"></h2>

    <div id="container"
         style="width: 550px; height: 400px; margin: 0 auto"></div>
</div>
<script
        src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<!-- Latest compiled and minified JavaScript -->
<script
        src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>

<script th:inline="javascript">

Highcharts.chart('container', {

        chart: {
             type: 'column'
        },

        title: {
            align: 'left',
            text: 'Relatório de Ocorrências por tipos'
        },
            subtitle: {
        align: 'left'

    },

    accessibility: {
        announceNewData: {
        enabled: true
        }
    },
        xAxis: {
           type: 'category'
        },

    yAxis: {
        title: {
        text: 'TOTAL EM PORCENTAGEM'
    }

    },

    legend: {
         enabled: false
    },

    plotOptions: {

        series: {

        borderWidth: 0,
            dataLabels: {
            enabled: true,
            format: '{point.y:.1f}%'
       }
      }
   },

    tooltip: {
        headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
        pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y:.2f}%</b>total<br/>'
    },

        series: [
        {
            name: 'Tipo de Ocorrência:',
            colorByPoint: true,

        data: [

            {
            name: 'Furto',
            y: [[${Furto}]] ,
            drilldown: 'Furto'

            },
        {
            name: 'Furto Qualificado',
            y: [[${FurtoQualificado}]],
            drilldown: 'Furto Qualificado'
        },

        {
            name: 'Furto de Uso',
            y: [[${FurtoDeUso}]],
            drilldown: 'Furto de Uso'
        },
        {
            name: 'Roubo',
            y: [[${Roubo}]],
            drilldown: 'Roubo'
        },
        {
            name: 'Agressão',
            y: [[${Agressao}]],
            drilldown: 'Agressão'
        },
        {
            name: 'Ameaca',
            y: [[${Ameaca}]],
            drilldown: 'Ameaca'
        },
            {
                name: 'Extorsão',
                y: [[${Extorsao}]],
                drilldown: 'Extorsão'
            },

             {
                name: 'Violação de Domicílio',
                y: [[${ViolacaoDomicilio}]],
                drilldown: 'Violação de Domicílio'
            }


          ]
        }
    ],

        drilldown: {
            breadcrumbs: {
            position: {
            align: 'right'
           }
        },
           series: [
         {
            name: 'Furto',
            id: 'Furto',
        data: [
            [
            'v65.0',
            0.1
            ],
            [
            'v64.0',
            1.3
            ],
            [
            'v63.0',
            53.02
                ],
            [
            'v62.0',
            1.4
            ],
            [
            'v61.0',
            0.88
            ],
            [
            'v60.0',
            0.56
            ],
            [
            'v59.0',
            0.45
            ],
            [
            'v58.0',
            0.49
            ],
            [
            'v57.0',
            0.32
                ],
            [
            'v56.0',
            0.29
            ],
            [
            'v55.0',
            0.79
            ],
            [
            'v54.0',
            0.18
                ],
            [
            'v51.0',
            0.13
                ],
            [
            'v49.0',
            2.16
                ],
            [
            'v48.0',
            0.13
            ],
            [
            'v47.0',
            0.11
            ],
            [
            'v43.0',
            0.17
            ],
            [
            'v29.0',
            0.26
            ]
        ]
      },
        {
        name: 'Furto Qualificado',
        id: 'FurtoQualificado',
        data: [
            [
            'v58.0',
            1.02
            ],
            [
            'v57.0',
            7.36
            ],
            [
            'v56.0',
            0.35
            ],
            [
            'v55.0',
            0.11
            ],
            [
            'v54.0',
            0.1
            ],
            [
            'v52.0',
            0.95
            ],
            [
            'v51.0',
            0.15
            ],
            [
            'v50.0',
            0.1
            ],
            [
            'v48.0',
            0.31
            ],
            [
            'v47.0',
            0.12
            ]
          ]
        },

            {
                name: 'Furto de Uso',
                id: 'FurtoDeUso',
            data: [
                [
                'v11.0',
                6.2
                ],
                [
                'v10.0',
                0.29
                ],
                [
                'v9.0',
                0.27
                ],
                [
                'v8.0',
                0.47
                ]
            ]
          },
        {
        name: 'Roubo',
        id: 'Roubo',
        data: [
        [
        'v11.0',
        3.39
        ],
        [
        'v10.1',
        0.96
        ],
        [
        'v10.0',
        0.36
        ],
        [
        'v9.1',
        0.54
        ],
        [
        'v9.0',
        0.13
        ],
        [
        'v5.1',
        0.2
        ]
        ]
        },
            {
               name: 'Agressão',
               id: 'Agressao',
            data: [
            [
             'v16',
             2.6
            ],
            [
             'v15',
             0.92
            ],
            [
             'v14',
              0.4
            ],
            [
              'v13',
              0.1
            ]
            ]
            },
        {
           name: 'Ameaça',
           id: 'Ameaca',
        data: [
        [
          'v50.0',
          0.96
        ],
        [
         'v49.0',
          0.82
        ],
        [
          'v12.1',
           0.14
        ]
        ]
        }
        ]
   }
});

</script>
</body>
</html>
